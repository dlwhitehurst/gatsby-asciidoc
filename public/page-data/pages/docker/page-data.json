{"componentChunkName":"component---src-templates-article-js","path":"/pages/docker/","result":{"data":{"asciidoc":{"html":"<div id=\"toc\" class=\"toc\">\n<div id=\"toctitle\">Table of Contents</div>\n<ul class=\"sectlevel1\">\n<li><a href=\"#_introduction\">1. Introduction</a></li>\n<li><a href=\"#_preliminaries\">2. Preliminaries</a>\n<ul class=\"sectlevel2\">\n<li><a href=\"#_goals\">2.1. Goals</a></li>\n<li><a href=\"#_available_platforms\">2.2. Available Platforms</a></li>\n<li><a href=\"#_dependencies\">2.3. Dependencies</a></li>\n</ul>\n</li>\n<li><a href=\"#_installation_linux\">3. Installation Linux</a>\n<ul class=\"sectlevel2\">\n<li><a href=\"#_installation_debian_9_stretch\">3.1. Installation Debian 9 Stretch</a></li>\n<li><a href=\"#_installation_debian_10_buster\">3.2. Installation Debian 10 Buster</a></li>\n<li><a href=\"#_installation_ubuntu_20_4_lts\">3.3. Installation Ubuntu 20.4 LTS</a></li>\n</ul>\n</li>\n<li><a href=\"#_mac_os_x\">4. Mac OS-X</a>\n<ul class=\"sectlevel2\">\n<li><a href=\"#_install_docker_desktop\">4.1. Install Docker Desktop</a></li>\n</ul>\n</li>\n<li><a href=\"#_windows\">5. Windows</a>\n<ul class=\"sectlevel2\">\n<li><a href=\"#_windows_10_installation\">5.1. Windows 10 Installation</a></li>\n</ul>\n</li>\n<li><a href=\"#_docker_basics\">6. Docker Basics</a></li>\n<li><a href=\"#_docker_run_and_stop\">7. Docker Run and Stop</a></li>\n<li><a href=\"#_docker_compose\">8. Docker Compose</a></li>\n<li><a href=\"#_docker_build\">9. Docker Build</a>\n<ul class=\"sectlevel2\">\n<li><a href=\"#_dockercompose_build\">9.1. Dockercompose Build</a></li>\n<li><a href=\"#_dockerfile_build\">9.2. Dockerfile Build</a></li>\n</ul>\n</li>\n<li><a href=\"#_cheatsheet\">Appendix A: Cheatsheet</a></li>\n<li><a href=\"#_acronyms\">Appendix B: Acronyms</a></li>\n<li><a href=\"#_glossary\">Appendix C: Glossary</a></li>\n<li><a href=\"#_license\">Appendix D: License</a></li>\n</ul>\n</div>\n<div id=\"preamble\">\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p><span class=\"image\"><img src=\"images/docker.jpg\" alt=\"Docker\"></span></p>\n</div>\n<div class=\"paragraph\">\n<p><a href=\"https://site.fortytwobinary.com/\">Site Homepage</a></p>\n</div>\n<div class=\"paragraph\">\n<p><a href=\"https://apache.fortytwobinary.com/lab//welcome.html\">Lab Homepage</a></p>\n</div>\n<div class=\"paragraph\">\n<p><span class=\"image\"><img src=\"images/vy.png\" alt=\"Company Logo\" height=\"32\"></span></p>\n</div>\n<div class=\"paragraph\">\n<p>Welcome to the FortyTwoBinary service documentation for Docker\non multiple platforms. This document is subject to great change and will\nbe maintained in a software repository <a href=\"https://github.com/fortytwobinary/labdocs\">here</a>.</p>\n</div>\n<div class=\"admonitionblock warning\">\n<table>\n<tr>\n<td class=\"icon\">\n<div class=\"title\">Warning</div>\n</td>\n<td class=\"content\">\nThis technical reference was drafted and is maintained as a DevOps reference to the work that occurs on\nthe FortyTwoBinary network and infrastructure. The powerful command-line instructions found here,\nmay or may not be accurate or timely. This warning is given to let the DevOp be aware that commands\nmay not be idempotent and before root-level (sudo) actions are taken, to please think twice before\nhitting the Enter key.\n</td>\n</tr>\n</table>\n</div>\n<div class=\"sidebarblock\">\n<div class=\"content\">\n<div class=\"title\">This document</div>\n<div class=\"paragraph\">\n<p>This document was written using asciidoc markup and the HTML you see is generated by a tool driven\nusing Python called asciidoctor. This technical reference is a powerful document that can be of great value\nin the event of data loss, machine crashes, backups, maintenance, installations, and troubleshooting.</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_introduction\">1. Introduction</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>The instructions here provide directions for the installation of Docker on various platforms. Docker\nis currently installed on KM8-P hardware, Debian 9 (Stretch) linux/arm64 and Pi Model 3B and 4B,\nUbuntu 20.04 LTS, linux/arm64. Currently, I do not have Docker on my Windows 10 Professional server. I\ncatch myself wishing it was there time after time. This document will ultimately contain the\ninstructions needed to have Docker on all of my machines.</p>\n</div>\n<div class=\"paragraph\">\n<p>Once Docker is installed, Docker compose should be available as well. And, I&#8217;ve found that buildx\nwas needed for another task for the arm64 images. Documentation for all things Docker will be found\nhere. After installation documentation, administration and user texts will follow. Acronyms, a\nGlossary, and a Cheatsheet will be found in the appendices.</p>\n</div>\n<div class=\"sidebarblock\">\n<div class=\"content\">\n<div class=\"title\">My Mission</div>\n<div class=\"paragraph\">\n<p>Kubernetes has emerged as powerful way to serve web content and move\ndata over the internet at grand scale. This is very expensive even for\nwell-paid consultants to learn on their own. Small computers and virtual\nmachines are inexpensive and convenient to own. My mission is to learn\nmore about containers, hosting, and clustering all on my own time and\ndo this economically of course.</p>\n</div>\n<div class=\"paragraph\">\n<p>Turing Pi is now making a cluster board for multiple Raspberry Pi boards\nand the cluster capability for up to 28 cores or 7 Raspberry Pi computers.\nCanonical Ubuntu is also producing a software product called MicroK8s or\nwhat they call a no-more, no-less version of Kubernetes that will run on\na single server host. The FortyTwoBinary network (my home network) is\nslowly becoming a laboratory for learning.</p>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_preliminaries\">2. Preliminaries</h2>\n<div class=\"sectionbody\">\n<div class=\"sect2\">\n<h3 id=\"_goals\">2.1. Goals</h3>\n<div class=\"paragraph\">\n<p>The goal here is to install and maintain a single instance of a running\nHashicorp Vault in production mode on a Raspberry Pi 4 Model B.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_available_platforms\">2.2. Available Platforms</h3>\n<div class=\"paragraph\">\n<p>As stated in the Goal section above, the platform for installation and\nservice is the Raspberry Pi 4 Model B. We recently procured 3 Labist\nstarter kits with the new Raspberry Pi 4 Model B machines. These boards\nhave 8GB of fixed RAM and Raspbian (Debian 10 Buster) OS for arm64 (arm7l)\ncame on a 128GB Sansdisk microSD card. Exceptionally easy startup and our\n3 machines are now online, running, and accessible via static IPs.</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_dependencies\">2.3. Dependencies</h3>\n<div class=\"paragraph\">\n<p>Dependencies can be software packages, configurations, or even tools that\nneed to be available during the process of installation. In this case,\neverything was available. An ssh connection to the Raspberry Pi allowed\nfor a smooth installation of the Vault binary for this platform. VIM was\ninstalled but VI was present at initial boot.</p>\n</div>\n<div class=\"paragraph\">\n<p>We want to note that the initial binary did not work correctly. We\nalso tried a Docker version prior to a strict server install. It seems\nthat a 64bit edition for the ARM processor is yet to be available. We will\nperiodically check for this and upgrade when available.</p>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_installation_linux\">3. Installation Linux</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>Text here &#8230;&#8203;</p>\n</div>\n<div class=\"admonitionblock tip\">\n<table>\n<tr>\n<td class=\"icon\">\n<div class=\"title\">Tip</div>\n</td>\n<td class=\"content\">\nDownload the Vault binary for Raspberry Pi 4 Model B here: <a href=\"https://releases.hashicorp.com/vault/1.6.2/vault_1.6.2_linux_arm.zip\">https://releases.hashicorp.com/vault/1.6.2/vault_1.6.2_linux_arm.zip</a>\n</td>\n</tr>\n</table>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_installation_debian_9_stretch\">3.1. Installation Debian 9 Stretch</h3>\n<div class=\"paragraph\">\n<p>Text here &#8230;&#8203;</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_installation_debian_10_buster\">3.2. Installation Debian 10 Buster</h3>\n<div class=\"paragraph\">\n<p>Text here &#8230;&#8203;</p>\n</div>\n<div class=\"admonitionblock tip\">\n<table>\n<tr>\n<td class=\"icon\">\n<div class=\"title\">Tip</div>\n</td>\n<td class=\"content\">\nDownload the Vault binary for Raspberry Pi 4 Model B here: <a href=\"https://releases.hashicorp.com/vault/1.6.2/vault_1.6.2_linux_arm.zip\">https://releases.hashicorp.com/vault/1.6.2/vault_1.6.2_linux_arm.zip</a>\n</td>\n</tr>\n</table>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_installation_ubuntu_20_4_lts\">3.3. Installation Ubuntu 20.4 LTS</h3>\n<div class=\"paragraph\">\n<p>Text here &#8230;&#8203;</p>\n</div>\n<div class=\"admonitionblock tip\">\n<table>\n<tr>\n<td class=\"icon\">\n<div class=\"title\">Tip</div>\n</td>\n<td class=\"content\">\nDownload the Vault binary for Raspberry Pi 4 Model B here: <a href=\"https://releases.hashicorp.com/vault/1.6.2/vault_1.6.2_linux_arm.zip\">https://releases.hashicorp.com/vault/1.6.2/vault_1.6.2_linux_arm.zip</a>\n</td>\n</tr>\n</table>\n</div>\n<div class=\"admonitionblock warning\">\n<table>\n<tr>\n<td class=\"icon\">\n<div class=\"title\">Warning</div>\n</td>\n<td class=\"content\">\nDo NOT download the ARM64 edition for Linux. It will NOT run on the Raspberry Pi 4 Model B using Raspbian (Debian 10 Buster) as of February 27, 2021. This message is HIGHLY subject to CHANGE.\n</td>\n</tr>\n</table>\n</div>\n<div class=\"paragraph\">\n<p>Unzip the download somewhere and we moved the file <code>vault</code> to <code>&lt;user-home&gt;/bin</code> Then we added the following to our <code>.bashrc</code> and sourced it instead of logging out and back in.</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-json\" data-lang=\"json\">{\n  \"backend\": {\n    \"file\": {\n      \"path\": \"vault/data\"\n    }\n  },\n  \"listener\": {\n    \"tcp\":{\n      \"address\": \"0.0.0.0:8200\",\n      \"tls_disable\": 1\n    }\n  },\n  \"ui\": true\n}</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>Take note that the path <code>vault/data</code> will be relative to where the vault\nexecutable is run. We will issue the command from the user&#8217;s home directory\nand where this configuration file currently resides. Also the <code>0.0.0.0</code> in\nthe listener section is a placeholder that defines a non-routable IP address. It has been explained to mean \"all addresses\". Learn more here:\n<a href=\"https://en.wikipedia.org/wiki/0.0.0.0\">https://en.wikipedia.org/wiki/0.0.0.0</a>. The 8200 port is the Hashicorp Vault default.</p>\n</div>\n<div class=\"admonitionblock warning\">\n<table>\n<tr>\n<td class=\"icon\">\n<div class=\"title\">Warning</div>\n</td>\n<td class=\"content\">\nPlease note that HTTPS is not being used. This is NOT good practice however, final software configuration may occur within the FortyTwoBinary\nnetwork (internal) or in the event all configuration is moved onto the\npublic Internet.\n</td>\n</tr>\n</table>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_mac_os_x\">4. Mac OS-X</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>The full administration and use of Docker is yet to be discovered. For now\nwe&#8217;ll provide some cheatsheet commands and a few use cases.</p>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_install_docker_desktop\">4.1. Install Docker Desktop</h3>\n<div class=\"paragraph\">\n<p>Later &#8230;&#8203; you are welcome lol &#8230;&#8203;</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">$ docker ps</code></pre>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_windows\">5. Windows</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>Text</p>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_windows_10_installation\">5.1. Windows 10 Installation</h3>\n<div class=\"paragraph\">\n<p>Text</p>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_docker_basics\">6. Docker Basics</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>Text</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_docker_run_and_stop\">7. Docker Run and Stop</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>Text</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_docker_compose\">8. Docker Compose</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>Text</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_docker_build\">9. Docker Build</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>Text</p>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_dockercompose_build\">9.1. Dockercompose Build</h3>\n<div class=\"paragraph\">\n<p>Text</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_dockerfile_build\">9.2. Dockerfile Build</h3>\n<div class=\"paragraph\">\n<p>Text</p>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_cheatsheet\">Appendix A: Cheatsheet</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>Text</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_acronyms\">Appendix B: Acronyms</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>Here</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_glossary\">Appendix C: Glossary</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>Here</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_license\">Appendix D: License</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>This document is licensed by the Apache License version 2.0. Currently,\nthe content in this document is being kept from the public however, in\nthe event the material contained here is willingly shared with\nothers, the license will remain unchanged and will convey with the\ntransference of the material.</p>\n</div>\n<div class=\"paragraph\">\n<p>Apache License\nVersion 2.0, January 2004\n<a href=\"http://www.apache.org/licenses/\" class=\"bare\">http://www.apache.org/licenses/</a></p>\n</div>\n<div class=\"paragraph\">\n<p>A copy has also been provided with this software repository.</p>\n</div>\n<div class=\"paragraph\">\n<p>Copyright &#169; 2021 David L Whitehurst.</p>\n</div>\n</div>\n</div>","document":{"title":"Docker","subtitle":"","main":"Docker"},"revision":null,"author":{"fullName":"David L. Whitehurst","firstName":"David","lastName":"Whitehurst","middleName":"L.","authorInitials":"DLW","email":""}}},"pageContext":{"id":"2b32c715-1f46-5d40-8b02-266c9abee64b"}},"staticQueryHashes":[]}